# Семинар №4 - Авторизация в приложении

На этом семинаре мы:
- Узнаем, что такое авторизация и чем она отличается от аутентификации и регистрации
- Узнаем что такое cookie и сессии и как они устроены во Flask
- Разработаем сценарий авторизации через сессии Flask в новом Blueprint-е
- Узнаем что такое декоратор и как реализовать его в python
- Создадим декоратор для проверки авторизации клиента

Требования:
- Среда разработки [PyCharm](https://www.jetbrains.com/pycharm/download) или [VSCode](https://code.visualstudio.com/) (PyCharm предпочтительнее)
- [Python3](https://www.python.org/downloads/)
- Браузер
- Рабочий код из семинара №3

Структура семинара:
```
.
├── README.md
├── access.py  // декораторы авторизации
├── app.py  // точка входа в приложение
├── auth
│        ├── __init__.py
│        ├── routes.py  // Описание blueprint-а авторизации
│        ├── sql
│        │       ├── external_user.sql  // SQL-шаблон поиска внутреннего клиента
│        │       └── internal_user.sql  // SQL-шаблон поиска внешнего клиента
│        └── templates
│            ├── input_login.html  // Форма ввода логина и пароля
│            └── refuse.html  // Шаблон сообщения об ошибке
├── configs
│        ├── access.json  // Конфиг доступа ролей к Blueprint-ам
│        └── db.json  // Конфиг для подключения к БД
├── database
│        ├── __init__.py
│        ├── db_context_manager.py  // Класс для подключения к БД
│        ├── db_work.py  // Множество функций для отправления запросов в БД
│        └── sql_provider.py  // Класс для предоставления готовых SQL-запросов
├── query
│        ├── __init__.py
│        ├── route.py  // Описание Blueprint-а для работы с запросами
│        ├── sql
│        │      └── product.sql  // Шаблон SQL-запроса для поиска продукта по ID или названию
│        └── templates
│            ├── base.html  // Базовый шаблон для отрисовки страницы по работе с продуктами
│            ├── db_result.html  // Шаблон для отображения товара из БД
│            └── product_form.html  // Шаблон для ввода запроса на поиск товара
├── report
│        ├── __init__.py
│        ├── routes.py  // Описание blueprint-а для работы со сценарием отчетов
│        └── templates
│            └── report_result.html  // Шаблон выдачи результатов отчета
├── static
│        └── main.css  // CSS-файл для поддержания стиля
├── templates
│        ├── base.html  // Корневой HTML-шаблон приложения
│        ├── exceptions
│        │        ├── base.html  // Базовый шаблон для отображения исключений или ошибок
│        │        ├── external_only.html  // Шаблон ошибки доступа внешего клиента
│        │        └── internal_only.html  // Шаблон ошибки доступа внутреннего клиента
│        ├── exit.html  // Шаблон страницы о завершении работы в системе
│        ├── external_user_menu.html  // Шаблон меня для внешнего клиента
│        └── internal_user_menu.html  // Шаблон меню для внутреннего клиента
```